"use strict";
/**
 * @fileoverview
 * @enhanceable
 * @suppress {messageConventions} JS Compiler reports an error if a variable or
 *     field starts with 'MSG_' and isn't a translatable message.
 * @public
 */
// GENERATED CODE -- DO NOT EDIT!
var jspb = require('google-protobuf');
var goog = jspb;
var global = Function('return this')();
var system_guid_pb = require('../../system/guid_pb.js');
goog.object.extend(proto, system_guid_pb);
var Events_Relativity_interaction_artifact_pb = require('../../Events.Relativity/interaction/artifact_pb.js');
goog.object.extend(proto, Events_Relativity_interaction_artifact_pb);
var Events_Relativity_interaction_versioned_event_source_pb = require('../../Events.Relativity/interaction/versioned_event_source_pb.js');
goog.object.extend(proto, Events_Relativity_interaction_versioned_event_source_pb);
var Events_Relativity_interaction_original_context_pb = require('../../Events.Relativity/interaction/original_context_pb.js');
goog.object.extend(proto, Events_Relativity_interaction_original_context_pb);
goog.exportSymbol('proto.dolittle.events.relativity.EventMetadata', null, global);
/**
 * Generated by JsPbCodeGenerator.
 * @param {Array=} opt_data Optional initial data array, typically from a
 * server response, or constructed directly in Javascript. The array is used
 * in place and becomes part of the constructed object. It is not cloned.
 * If no data is provided, the constructed object will be empty, but still
 * valid.
 * @extends {jspb.Message}
 * @constructor
 */
proto.dolittle.events.relativity.EventMetadata = function (opt_data) {
    jspb.Message.initialize(this, opt_data, 0, -1, null, null);
};
goog.inherits(proto.dolittle.events.relativity.EventMetadata, jspb.Message);
if (goog.DEBUG && !COMPILED) {
    /**
     * @public
     * @override
     */
    proto.dolittle.events.relativity.EventMetadata.displayName = 'proto.dolittle.events.relativity.EventMetadata';
}
if (jspb.Message.GENERATE_TO_OBJECT) {
    /**
     * Creates an object representation of this proto suitable for use in Soy templates.
     * Field names that are reserved in JavaScript and will be renamed to pb_name.
     * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.
     * For the list of reserved names please see:
     *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.
     * @param {boolean=} opt_includeInstance Whether to include the JSPB instance
     *     for transitional soy proto support: http://goto/soy-param-migration
     * @return {!Object}
     */
    proto.dolittle.events.relativity.EventMetadata.prototype.toObject = function (opt_includeInstance) {
        return proto.dolittle.events.relativity.EventMetadata.toObject(opt_includeInstance, this);
    };
    /**
     * Static version of the {@see toObject} method.
     * @param {boolean|undefined} includeInstance Whether to include the JSPB
     *     instance for transitional soy proto support:
     *     http://goto/soy-param-migration
     * @param {!proto.dolittle.events.relativity.EventMetadata} msg The msg instance to transform.
     * @return {!Object}
     * @suppress {unusedLocalVariables} f is only used for nested messages
     */
    proto.dolittle.events.relativity.EventMetadata.toObject = function (includeInstance, msg) {
        var f, obj = {
            eventid: (f = msg.getEventid()) && system_guid_pb.guid.toObject(includeInstance, f),
            source: (f = msg.getSource()) && Events_Relativity_interaction_versioned_event_source_pb.VersionedEventSource.toObject(includeInstance, f),
            correlationid: (f = msg.getCorrelationid()) && system_guid_pb.guid.toObject(includeInstance, f),
            artifact: (f = msg.getArtifact()) && Events_Relativity_interaction_artifact_pb.Artifact.toObject(includeInstance, f),
            occurred: jspb.Message.getFieldWithDefault(msg, 5, 0),
            originalcontext: (f = msg.getOriginalcontext()) && Events_Relativity_interaction_original_context_pb.OriginalContext.toObject(includeInstance, f)
        };
        if (includeInstance) {
            obj.$jspbMessageInstance = msg;
        }
        return obj;
    };
}
/**
 * Deserializes binary data (in protobuf wire format).
 * @param {jspb.ByteSource} bytes The bytes to deserialize.
 * @return {!proto.dolittle.events.relativity.EventMetadata}
 */
proto.dolittle.events.relativity.EventMetadata.deserializeBinary = function (bytes) {
    var reader = new jspb.BinaryReader(bytes);
    var msg = new proto.dolittle.events.relativity.EventMetadata;
    return proto.dolittle.events.relativity.EventMetadata.deserializeBinaryFromReader(msg, reader);
};
/**
 * Deserializes binary data (in protobuf wire format) from the
 * given reader into the given message object.
 * @param {!proto.dolittle.events.relativity.EventMetadata} msg The message object to deserialize into.
 * @param {!jspb.BinaryReader} reader The BinaryReader to use.
 * @return {!proto.dolittle.events.relativity.EventMetadata}
 */
proto.dolittle.events.relativity.EventMetadata.deserializeBinaryFromReader = function (msg, reader) {
    while (reader.nextField()) {
        if (reader.isEndGroup()) {
            break;
        }
        var field = reader.getFieldNumber();
        switch (field) {
            case 1:
                var value = new system_guid_pb.guid;
                reader.readMessage(value, system_guid_pb.guid.deserializeBinaryFromReader);
                msg.setEventid(value);
                break;
            case 2:
                var value = new Events_Relativity_interaction_versioned_event_source_pb.VersionedEventSource;
                reader.readMessage(value, Events_Relativity_interaction_versioned_event_source_pb.VersionedEventSource.deserializeBinaryFromReader);
                msg.setSource(value);
                break;
            case 3:
                var value = new system_guid_pb.guid;
                reader.readMessage(value, system_guid_pb.guid.deserializeBinaryFromReader);
                msg.setCorrelationid(value);
                break;
            case 4:
                var value = new Events_Relativity_interaction_artifact_pb.Artifact;
                reader.readMessage(value, Events_Relativity_interaction_artifact_pb.Artifact.deserializeBinaryFromReader);
                msg.setArtifact(value);
                break;
            case 5:
                var value = /** @type {number} */ (reader.readInt64());
                msg.setOccurred(value);
                break;
            case 6:
                var value = new Events_Relativity_interaction_original_context_pb.OriginalContext;
                reader.readMessage(value, Events_Relativity_interaction_original_context_pb.OriginalContext.deserializeBinaryFromReader);
                msg.setOriginalcontext(value);
                break;
            default:
                reader.skipField();
                break;
        }
    }
    return msg;
};
/**
 * Serializes the message to binary data (in protobuf wire format).
 * @return {!Uint8Array}
 */
proto.dolittle.events.relativity.EventMetadata.prototype.serializeBinary = function () {
    var writer = new jspb.BinaryWriter();
    proto.dolittle.events.relativity.EventMetadata.serializeBinaryToWriter(this, writer);
    return writer.getResultBuffer();
};
/**
 * Serializes the given message to binary data (in protobuf wire
 * format), writing to the given BinaryWriter.
 * @param {!proto.dolittle.events.relativity.EventMetadata} message
 * @param {!jspb.BinaryWriter} writer
 * @suppress {unusedLocalVariables} f is only used for nested messages
 */
proto.dolittle.events.relativity.EventMetadata.serializeBinaryToWriter = function (message, writer) {
    var f = undefined;
    f = message.getEventid();
    if (f != null) {
        writer.writeMessage(1, f, system_guid_pb.guid.serializeBinaryToWriter);
    }
    f = message.getSource();
    if (f != null) {
        writer.writeMessage(2, f, Events_Relativity_interaction_versioned_event_source_pb.VersionedEventSource.serializeBinaryToWriter);
    }
    f = message.getCorrelationid();
    if (f != null) {
        writer.writeMessage(3, f, system_guid_pb.guid.serializeBinaryToWriter);
    }
    f = message.getArtifact();
    if (f != null) {
        writer.writeMessage(4, f, Events_Relativity_interaction_artifact_pb.Artifact.serializeBinaryToWriter);
    }
    f = message.getOccurred();
    if (f !== 0) {
        writer.writeInt64(5, f);
    }
    f = message.getOriginalcontext();
    if (f != null) {
        writer.writeMessage(6, f, Events_Relativity_interaction_original_context_pb.OriginalContext.serializeBinaryToWriter);
    }
};
/**
 * optional dolittle.guid eventId = 1;
 * @return {?proto.dolittle.guid}
 */
proto.dolittle.events.relativity.EventMetadata.prototype.getEventid = function () {
    return /** @type{?proto.dolittle.guid} */ (jspb.Message.getWrapperField(this, system_guid_pb.guid, 1));
};
/** @param {?proto.dolittle.guid|undefined} value */
proto.dolittle.events.relativity.EventMetadata.prototype.setEventid = function (value) {
    jspb.Message.setWrapperField(this, 1, value);
};
/**
 * Clears the message field making it undefined.
 */
proto.dolittle.events.relativity.EventMetadata.prototype.clearEventid = function () {
    this.setEventid(undefined);
};
/**
 * Returns whether this field is set.
 * @return {boolean}
 */
proto.dolittle.events.relativity.EventMetadata.prototype.hasEventid = function () {
    return jspb.Message.getField(this, 1) != null;
};
/**
 * optional VersionedEventSource source = 2;
 * @return {?proto.dolittle.events.relativity.VersionedEventSource}
 */
proto.dolittle.events.relativity.EventMetadata.prototype.getSource = function () {
    return /** @type{?proto.dolittle.events.relativity.VersionedEventSource} */ (jspb.Message.getWrapperField(this, Events_Relativity_interaction_versioned_event_source_pb.VersionedEventSource, 2));
};
/** @param {?proto.dolittle.events.relativity.VersionedEventSource|undefined} value */
proto.dolittle.events.relativity.EventMetadata.prototype.setSource = function (value) {
    jspb.Message.setWrapperField(this, 2, value);
};
/**
 * Clears the message field making it undefined.
 */
proto.dolittle.events.relativity.EventMetadata.prototype.clearSource = function () {
    this.setSource(undefined);
};
/**
 * Returns whether this field is set.
 * @return {boolean}
 */
proto.dolittle.events.relativity.EventMetadata.prototype.hasSource = function () {
    return jspb.Message.getField(this, 2) != null;
};
/**
 * optional dolittle.guid correlationId = 3;
 * @return {?proto.dolittle.guid}
 */
proto.dolittle.events.relativity.EventMetadata.prototype.getCorrelationid = function () {
    return /** @type{?proto.dolittle.guid} */ (jspb.Message.getWrapperField(this, system_guid_pb.guid, 3));
};
/** @param {?proto.dolittle.guid|undefined} value */
proto.dolittle.events.relativity.EventMetadata.prototype.setCorrelationid = function (value) {
    jspb.Message.setWrapperField(this, 3, value);
};
/**
 * Clears the message field making it undefined.
 */
proto.dolittle.events.relativity.EventMetadata.prototype.clearCorrelationid = function () {
    this.setCorrelationid(undefined);
};
/**
 * Returns whether this field is set.
 * @return {boolean}
 */
proto.dolittle.events.relativity.EventMetadata.prototype.hasCorrelationid = function () {
    return jspb.Message.getField(this, 3) != null;
};
/**
 * optional Artifact artifact = 4;
 * @return {?proto.dolittle.events.relativity.Artifact}
 */
proto.dolittle.events.relativity.EventMetadata.prototype.getArtifact = function () {
    return /** @type{?proto.dolittle.events.relativity.Artifact} */ (jspb.Message.getWrapperField(this, Events_Relativity_interaction_artifact_pb.Artifact, 4));
};
/** @param {?proto.dolittle.events.relativity.Artifact|undefined} value */
proto.dolittle.events.relativity.EventMetadata.prototype.setArtifact = function (value) {
    jspb.Message.setWrapperField(this, 4, value);
};
/**
 * Clears the message field making it undefined.
 */
proto.dolittle.events.relativity.EventMetadata.prototype.clearArtifact = function () {
    this.setArtifact(undefined);
};
/**
 * Returns whether this field is set.
 * @return {boolean}
 */
proto.dolittle.events.relativity.EventMetadata.prototype.hasArtifact = function () {
    return jspb.Message.getField(this, 4) != null;
};
/**
 * optional int64 occurred = 5;
 * @return {number}
 */
proto.dolittle.events.relativity.EventMetadata.prototype.getOccurred = function () {
    return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 5, 0));
};
/** @param {number} value */
proto.dolittle.events.relativity.EventMetadata.prototype.setOccurred = function (value) {
    jspb.Message.setProto3IntField(this, 5, value);
};
/**
 * optional OriginalContext originalContext = 6;
 * @return {?proto.dolittle.events.relativity.OriginalContext}
 */
proto.dolittle.events.relativity.EventMetadata.prototype.getOriginalcontext = function () {
    return /** @type{?proto.dolittle.events.relativity.OriginalContext} */ (jspb.Message.getWrapperField(this, Events_Relativity_interaction_original_context_pb.OriginalContext, 6));
};
/** @param {?proto.dolittle.events.relativity.OriginalContext|undefined} value */
proto.dolittle.events.relativity.EventMetadata.prototype.setOriginalcontext = function (value) {
    jspb.Message.setWrapperField(this, 6, value);
};
/**
 * Clears the message field making it undefined.
 */
proto.dolittle.events.relativity.EventMetadata.prototype.clearOriginalcontext = function () {
    this.setOriginalcontext(undefined);
};
/**
 * Returns whether this field is set.
 * @return {boolean}
 */
proto.dolittle.events.relativity.EventMetadata.prototype.hasOriginalcontext = function () {
    return jspb.Message.getField(this, 6) != null;
};
goog.object.extend(exports, proto.dolittle.events.relativity);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXZlbnRfbWV0YWRhdGFfcGIuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbIkV2ZW50cy5SZWxhdGl2aXR5L2ludGVyYWN0aW9uL2V2ZW50X21ldGFkYXRhX3BiLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7O0dBTUc7QUFDSCxpQ0FBaUM7QUFFakMsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7QUFDdEMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO0FBQ2hCLElBQUksTUFBTSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDO0FBRXZDLElBQUksY0FBYyxHQUFHLE9BQU8sQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO0FBQ3hELElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxjQUFjLENBQUMsQ0FBQztBQUMxQyxJQUFJLHlDQUF5QyxHQUFHLE9BQU8sQ0FBQyxvREFBb0QsQ0FBQyxDQUFDO0FBQzlHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSx5Q0FBeUMsQ0FBQyxDQUFDO0FBQ3JFLElBQUksdURBQXVELEdBQUcsT0FBTyxDQUFDLGtFQUFrRSxDQUFDLENBQUM7QUFDMUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLHVEQUF1RCxDQUFDLENBQUM7QUFDbkYsSUFBSSxpREFBaUQsR0FBRyxPQUFPLENBQUMsNERBQTRELENBQUMsQ0FBQztBQUM5SCxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsaURBQWlELENBQUMsQ0FBQztBQUM3RSxJQUFJLENBQUMsWUFBWSxDQUFDLGdEQUFnRCxFQUFFLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQztBQUNsRjs7Ozs7Ozs7O0dBU0c7QUFDSCxLQUFLLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsYUFBYSxHQUFHLFVBQVMsUUFB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QyxlQUFlLENBQUMsSUFBSSxFQUFFLGlEQUFpRCxDQUFDLGVBQWUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzlHLENBQUMsQ0FBQztBQUdGLGlGQUFpRjtBQUNqRixLQUFLLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsR0FBRyxVQUFTLEtBQUs7SUFDMUYsSUFBSSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUMvQyxDQUFDLENBQUM7QUFHRjs7R0FFRztBQUNILEtBQUssQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLG9CQUFvQixHQUFHO0lBQzlFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUNyQyxDQUFDLENBQUM7QUFHRjs7O0dBR0c7QUFDSCxLQUFLLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsR0FBRztJQUM1RSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUM7QUFDaEQsQ0FBQyxDQUFDO0FBR0YsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3XG4gKiBAZW5oYW5jZWFibGVcbiAqIEBzdXBwcmVzcyB7bWVzc2FnZUNvbnZlbnRpb25zfSBKUyBDb21waWxlciByZXBvcnRzIGFuIGVycm9yIGlmIGEgdmFyaWFibGUgb3JcbiAqICAgICBmaWVsZCBzdGFydHMgd2l0aCAnTVNHXycgYW5kIGlzbid0IGEgdHJhbnNsYXRhYmxlIG1lc3NhZ2UuXG4gKiBAcHVibGljXG4gKi9cbi8vIEdFTkVSQVRFRCBDT0RFIC0tIERPIE5PVCBFRElUIVxuXG52YXIganNwYiA9IHJlcXVpcmUoJ2dvb2dsZS1wcm90b2J1ZicpO1xudmFyIGdvb2cgPSBqc3BiO1xudmFyIGdsb2JhbCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbnZhciBzeXN0ZW1fZ3VpZF9wYiA9IHJlcXVpcmUoJy4uLy4uL3N5c3RlbS9ndWlkX3BiLmpzJyk7XG5nb29nLm9iamVjdC5leHRlbmQocHJvdG8sIHN5c3RlbV9ndWlkX3BiKTtcbnZhciBFdmVudHNfUmVsYXRpdml0eV9pbnRlcmFjdGlvbl9hcnRpZmFjdF9wYiA9IHJlcXVpcmUoJy4uLy4uL0V2ZW50cy5SZWxhdGl2aXR5L2ludGVyYWN0aW9uL2FydGlmYWN0X3BiLmpzJyk7XG5nb29nLm9iamVjdC5leHRlbmQocHJvdG8sIEV2ZW50c19SZWxhdGl2aXR5X2ludGVyYWN0aW9uX2FydGlmYWN0X3BiKTtcbnZhciBFdmVudHNfUmVsYXRpdml0eV9pbnRlcmFjdGlvbl92ZXJzaW9uZWRfZXZlbnRfc291cmNlX3BiID0gcmVxdWlyZSgnLi4vLi4vRXZlbnRzLlJlbGF0aXZpdHkvaW50ZXJhY3Rpb24vdmVyc2lvbmVkX2V2ZW50X3NvdXJjZV9wYi5qcycpO1xuZ29vZy5vYmplY3QuZXh0ZW5kKHByb3RvLCBFdmVudHNfUmVsYXRpdml0eV9pbnRlcmFjdGlvbl92ZXJzaW9uZWRfZXZlbnRfc291cmNlX3BiKTtcbnZhciBFdmVudHNfUmVsYXRpdml0eV9pbnRlcmFjdGlvbl9vcmlnaW5hbF9jb250ZXh0X3BiID0gcmVxdWlyZSgnLi4vLi4vRXZlbnRzLlJlbGF0aXZpdHkvaW50ZXJhY3Rpb24vb3JpZ2luYWxfY29udGV4dF9wYi5qcycpO1xuZ29vZy5vYmplY3QuZXh0ZW5kKHByb3RvLCBFdmVudHNfUmVsYXRpdml0eV9pbnRlcmFjdGlvbl9vcmlnaW5hbF9jb250ZXh0X3BiKTtcbmdvb2cuZXhwb3J0U3ltYm9sKCdwcm90by5kb2xpdHRsZS5ldmVudHMucmVsYXRpdml0eS5FdmVudE1ldGFkYXRhJywgbnVsbCwgZ2xvYmFsKTtcbi8qKlxuICogR2VuZXJhdGVkIGJ5IEpzUGJDb2RlR2VuZXJhdG9yLlxuICogQHBhcmFtIHtBcnJheT19IG9wdF9kYXRhIE9wdGlvbmFsIGluaXRpYWwgZGF0YSBhcnJheSwgdHlwaWNhbGx5IGZyb20gYVxuICogc2VydmVyIHJlc3BvbnNlLCBvciBjb25zdHJ1Y3RlZCBkaXJlY3RseSBpbiBKYXZhc2NyaXB0LiBUaGUgYXJyYXkgaXMgdXNlZFxuICogaW4gcGxhY2UgYW5kIGJlY29tZXMgcGFydCBvZiB0aGUgY29uc3RydWN0ZWQgb2JqZWN0LiBJdCBpcyBub3QgY2xvbmVkLlxuICogSWYgbm8gZGF0YSBpcyBwcm92aWRlZCwgdGhlIGNvbnN0cnVjdGVkIG9iamVjdCB3aWxsIGJlIGVtcHR5LCBidXQgc3RpbGxcbiAqIHZhbGlkLlxuICogQGV4dGVuZHMge2pzcGIuTWVzc2FnZX1cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5wcm90by5kb2xpdHRsZS5ldmVudHMucmVsYXRpdml0eS5FdmVudE1ldGFkYXRhID0gZnVuY3Rpb24ob3B0X2RhdGEpIHtcbiAganNwYi5NZXNzYWdlLmluaXRpYWxpemUodGhpcywgb3B0X2RhdGEsIDAsIC0xLCBudWxsLCBudWxsKTtcbn07XG5nb29nLmluaGVyaXRzKHByb3RvLmRvbGl0dGxlLmV2ZW50cy5yZWxhdGl2aXR5LkV2ZW50TWV0YWRhdGEsIGpzcGIuTWVzc2FnZSk7XG5pZiAoZ29vZy5ERUJVRyAmJiAhQ09NUElMRUQpIHtcbiAgLyoqXG4gICAqIEBwdWJsaWNcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwcm90by5kb2xpdHRsZS5ldmVudHMucmVsYXRpdml0eS5FdmVudE1ldGFkYXRhLmRpc3BsYXlOYW1lID0gJ3Byb3RvLmRvbGl0dGxlLmV2ZW50cy5yZWxhdGl2aXR5LkV2ZW50TWV0YWRhdGEnO1xufVxuXG5cblxuaWYgKGpzcGIuTWVzc2FnZS5HRU5FUkFURV9UT19PQkpFQ1QpIHtcbi8qKlxuICogQ3JlYXRlcyBhbiBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBwcm90byBzdWl0YWJsZSBmb3IgdXNlIGluIFNveSB0ZW1wbGF0ZXMuXG4gKiBGaWVsZCBuYW1lcyB0aGF0IGFyZSByZXNlcnZlZCBpbiBKYXZhU2NyaXB0IGFuZCB3aWxsIGJlIHJlbmFtZWQgdG8gcGJfbmFtZS5cbiAqIFRvIGFjY2VzcyBhIHJlc2VydmVkIGZpZWxkIHVzZSwgZm9vLnBiXzxuYW1lPiwgZWcsIGZvby5wYl9kZWZhdWx0LlxuICogRm9yIHRoZSBsaXN0IG9mIHJlc2VydmVkIG5hbWVzIHBsZWFzZSBzZWU6XG4gKiAgICAgY29tLmdvb2dsZS5hcHBzLmpzcGIuSnNDbGFzc1RlbXBsYXRlLkpTX1JFU0VSVkVEX1dPUkRTLlxuICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2luY2x1ZGVJbnN0YW5jZSBXaGV0aGVyIHRvIGluY2x1ZGUgdGhlIEpTUEIgaW5zdGFuY2VcbiAqICAgICBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OiBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uXG4gKiBAcmV0dXJuIHshT2JqZWN0fVxuICovXG5wcm90by5kb2xpdHRsZS5ldmVudHMucmVsYXRpdml0eS5FdmVudE1ldGFkYXRhLnByb3RvdHlwZS50b09iamVjdCA9IGZ1bmN0aW9uKG9wdF9pbmNsdWRlSW5zdGFuY2UpIHtcbiAgcmV0dXJuIHByb3RvLmRvbGl0dGxlLmV2ZW50cy5yZWxhdGl2aXR5LkV2ZW50TWV0YWRhdGEudG9PYmplY3Qob3B0X2luY2x1ZGVJbnN0YW5jZSwgdGhpcyk7XG59O1xuXG5cbi8qKlxuICogU3RhdGljIHZlcnNpb24gb2YgdGhlIHtAc2VlIHRvT2JqZWN0fSBtZXRob2QuXG4gKiBAcGFyYW0ge2Jvb2xlYW58dW5kZWZpbmVkfSBpbmNsdWRlSW5zdGFuY2UgV2hldGhlciB0byBpbmNsdWRlIHRoZSBKU1BCXG4gKiAgICAgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDpcbiAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uXG4gKiBAcGFyYW0geyFwcm90by5kb2xpdHRsZS5ldmVudHMucmVsYXRpdml0eS5FdmVudE1ldGFkYXRhfSBtc2cgVGhlIG1zZyBpbnN0YW5jZSB0byB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJuIHshT2JqZWN0fVxuICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlc1xuICovXG5wcm90by5kb2xpdHRsZS5ldmVudHMucmVsYXRpdml0eS5FdmVudE1ldGFkYXRhLnRvT2JqZWN0ID0gZnVuY3Rpb24oaW5jbHVkZUluc3RhbmNlLCBtc2cpIHtcbiAgdmFyIGYsIG9iaiA9IHtcbiAgICBldmVudGlkOiAoZiA9IG1zZy5nZXRFdmVudGlkKCkpICYmIHN5c3RlbV9ndWlkX3BiLmd1aWQudG9PYmplY3QoaW5jbHVkZUluc3RhbmNlLCBmKSxcbiAgICBzb3VyY2U6IChmID0gbXNnLmdldFNvdXJjZSgpKSAmJiBFdmVudHNfUmVsYXRpdml0eV9pbnRlcmFjdGlvbl92ZXJzaW9uZWRfZXZlbnRfc291cmNlX3BiLlZlcnNpb25lZEV2ZW50U291cmNlLnRvT2JqZWN0KGluY2x1ZGVJbnN0YW5jZSwgZiksXG4gICAgY29ycmVsYXRpb25pZDogKGYgPSBtc2cuZ2V0Q29ycmVsYXRpb25pZCgpKSAmJiBzeXN0ZW1fZ3VpZF9wYi5ndWlkLnRvT2JqZWN0KGluY2x1ZGVJbnN0YW5jZSwgZiksXG4gICAgYXJ0aWZhY3Q6IChmID0gbXNnLmdldEFydGlmYWN0KCkpICYmIEV2ZW50c19SZWxhdGl2aXR5X2ludGVyYWN0aW9uX2FydGlmYWN0X3BiLkFydGlmYWN0LnRvT2JqZWN0KGluY2x1ZGVJbnN0YW5jZSwgZiksXG4gICAgb2NjdXJyZWQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgNSwgMCksXG4gICAgb3JpZ2luYWxjb250ZXh0OiAoZiA9IG1zZy5nZXRPcmlnaW5hbGNvbnRleHQoKSkgJiYgRXZlbnRzX1JlbGF0aXZpdHlfaW50ZXJhY3Rpb25fb3JpZ2luYWxfY29udGV4dF9wYi5PcmlnaW5hbENvbnRleHQudG9PYmplY3QoaW5jbHVkZUluc3RhbmNlLCBmKVxuICB9O1xuXG4gIGlmIChpbmNsdWRlSW5zdGFuY2UpIHtcbiAgICBvYmouJGpzcGJNZXNzYWdlSW5zdGFuY2UgPSBtc2c7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn07XG59XG5cblxuLyoqXG4gKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS5cbiAqIEBwYXJhbSB7anNwYi5CeXRlU291cmNlfSBieXRlcyBUaGUgYnl0ZXMgdG8gZGVzZXJpYWxpemUuXG4gKiBAcmV0dXJuIHshcHJvdG8uZG9saXR0bGUuZXZlbnRzLnJlbGF0aXZpdHkuRXZlbnRNZXRhZGF0YX1cbiAqL1xucHJvdG8uZG9saXR0bGUuZXZlbnRzLnJlbGF0aXZpdHkuRXZlbnRNZXRhZGF0YS5kZXNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uKGJ5dGVzKSB7XG4gIHZhciByZWFkZXIgPSBuZXcganNwYi5CaW5hcnlSZWFkZXIoYnl0ZXMpO1xuICB2YXIgbXNnID0gbmV3IHByb3RvLmRvbGl0dGxlLmV2ZW50cy5yZWxhdGl2aXR5LkV2ZW50TWV0YWRhdGE7XG4gIHJldHVybiBwcm90by5kb2xpdHRsZS5ldmVudHMucmVsYXRpdml0eS5FdmVudE1ldGFkYXRhLmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlcihtc2csIHJlYWRlcik7XG59O1xuXG5cbi8qKlxuICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkgZnJvbSB0aGVcbiAqIGdpdmVuIHJlYWRlciBpbnRvIHRoZSBnaXZlbiBtZXNzYWdlIG9iamVjdC5cbiAqIEBwYXJhbSB7IXByb3RvLmRvbGl0dGxlLmV2ZW50cy5yZWxhdGl2aXR5LkV2ZW50TWV0YWRhdGF9IG1zZyBUaGUgbWVzc2FnZSBvYmplY3QgdG8gZGVzZXJpYWxpemUgaW50by5cbiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5UmVhZGVyfSByZWFkZXIgVGhlIEJpbmFyeVJlYWRlciB0byB1c2UuXG4gKiBAcmV0dXJuIHshcHJvdG8uZG9saXR0bGUuZXZlbnRzLnJlbGF0aXZpdHkuRXZlbnRNZXRhZGF0YX1cbiAqL1xucHJvdG8uZG9saXR0bGUuZXZlbnRzLnJlbGF0aXZpdHkuRXZlbnRNZXRhZGF0YS5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIgPSBmdW5jdGlvbihtc2csIHJlYWRlcikge1xuICB3aGlsZSAocmVhZGVyLm5leHRGaWVsZCgpKSB7XG4gICAgaWYgKHJlYWRlci5pc0VuZEdyb3VwKCkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB2YXIgZmllbGQgPSByZWFkZXIuZ2V0RmllbGROdW1iZXIoKTtcbiAgICBzd2l0Y2ggKGZpZWxkKSB7XG4gICAgY2FzZSAxOlxuICAgICAgdmFyIHZhbHVlID0gbmV3IHN5c3RlbV9ndWlkX3BiLmd1aWQ7XG4gICAgICByZWFkZXIucmVhZE1lc3NhZ2UodmFsdWUsc3lzdGVtX2d1aWRfcGIuZ3VpZC5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIpO1xuICAgICAgbXNnLnNldEV2ZW50aWQodmFsdWUpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAyOlxuICAgICAgdmFyIHZhbHVlID0gbmV3IEV2ZW50c19SZWxhdGl2aXR5X2ludGVyYWN0aW9uX3ZlcnNpb25lZF9ldmVudF9zb3VyY2VfcGIuVmVyc2lvbmVkRXZlbnRTb3VyY2U7XG4gICAgICByZWFkZXIucmVhZE1lc3NhZ2UodmFsdWUsRXZlbnRzX1JlbGF0aXZpdHlfaW50ZXJhY3Rpb25fdmVyc2lvbmVkX2V2ZW50X3NvdXJjZV9wYi5WZXJzaW9uZWRFdmVudFNvdXJjZS5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIpO1xuICAgICAgbXNnLnNldFNvdXJjZSh2YWx1ZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDM6XG4gICAgICB2YXIgdmFsdWUgPSBuZXcgc3lzdGVtX2d1aWRfcGIuZ3VpZDtcbiAgICAgIHJlYWRlci5yZWFkTWVzc2FnZSh2YWx1ZSxzeXN0ZW1fZ3VpZF9wYi5ndWlkLmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlcik7XG4gICAgICBtc2cuc2V0Q29ycmVsYXRpb25pZCh2YWx1ZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDQ6XG4gICAgICB2YXIgdmFsdWUgPSBuZXcgRXZlbnRzX1JlbGF0aXZpdHlfaW50ZXJhY3Rpb25fYXJ0aWZhY3RfcGIuQXJ0aWZhY3Q7XG4gICAgICByZWFkZXIucmVhZE1lc3NhZ2UodmFsdWUsRXZlbnRzX1JlbGF0aXZpdHlfaW50ZXJhY3Rpb25fYXJ0aWZhY3RfcGIuQXJ0aWZhY3QuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyKTtcbiAgICAgIG1zZy5zZXRBcnRpZmFjdCh2YWx1ZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDU6XG4gICAgICB2YXIgdmFsdWUgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKHJlYWRlci5yZWFkSW50NjQoKSk7XG4gICAgICBtc2cuc2V0T2NjdXJyZWQodmFsdWUpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSA2OlxuICAgICAgdmFyIHZhbHVlID0gbmV3IEV2ZW50c19SZWxhdGl2aXR5X2ludGVyYWN0aW9uX29yaWdpbmFsX2NvbnRleHRfcGIuT3JpZ2luYWxDb250ZXh0O1xuICAgICAgcmVhZGVyLnJlYWRNZXNzYWdlKHZhbHVlLEV2ZW50c19SZWxhdGl2aXR5X2ludGVyYWN0aW9uX29yaWdpbmFsX2NvbnRleHRfcGIuT3JpZ2luYWxDb250ZXh0LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlcik7XG4gICAgICBtc2cuc2V0T3JpZ2luYWxjb250ZXh0KHZhbHVlKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZWFkZXIuc2tpcEZpZWxkKCk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1zZztcbn07XG5cblxuLyoqXG4gKiBTZXJpYWxpemVzIHRoZSBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuXG4gKiBAcmV0dXJuIHshVWludDhBcnJheX1cbiAqL1xucHJvdG8uZG9saXR0bGUuZXZlbnRzLnJlbGF0aXZpdHkuRXZlbnRNZXRhZGF0YS5wcm90b3R5cGUuc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24oKSB7XG4gIHZhciB3cml0ZXIgPSBuZXcganNwYi5CaW5hcnlXcml0ZXIoKTtcbiAgcHJvdG8uZG9saXR0bGUuZXZlbnRzLnJlbGF0aXZpdHkuRXZlbnRNZXRhZGF0YS5zZXJpYWxpemVCaW5hcnlUb1dyaXRlcih0aGlzLCB3cml0ZXIpO1xuICByZXR1cm4gd3JpdGVyLmdldFJlc3VsdEJ1ZmZlcigpO1xufTtcblxuXG4vKipcbiAqIFNlcmlhbGl6ZXMgdGhlIGdpdmVuIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmVcbiAqIGZvcm1hdCksIHdyaXRpbmcgdG8gdGhlIGdpdmVuIEJpbmFyeVdyaXRlci5cbiAqIEBwYXJhbSB7IXByb3RvLmRvbGl0dGxlLmV2ZW50cy5yZWxhdGl2aXR5LkV2ZW50TWV0YWRhdGF9IG1lc3NhZ2VcbiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5V3JpdGVyfSB3cml0ZXJcbiAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXNcbiAqL1xucHJvdG8uZG9saXR0bGUuZXZlbnRzLnJlbGF0aXZpdHkuRXZlbnRNZXRhZGF0YS5zZXJpYWxpemVCaW5hcnlUb1dyaXRlciA9IGZ1bmN0aW9uKG1lc3NhZ2UsIHdyaXRlcikge1xuICB2YXIgZiA9IHVuZGVmaW5lZDtcbiAgZiA9IG1lc3NhZ2UuZ2V0RXZlbnRpZCgpO1xuICBpZiAoZiAhPSBudWxsKSB7XG4gICAgd3JpdGVyLndyaXRlTWVzc2FnZShcbiAgICAgIDEsXG4gICAgICBmLFxuICAgICAgc3lzdGVtX2d1aWRfcGIuZ3VpZC5zZXJpYWxpemVCaW5hcnlUb1dyaXRlclxuICAgICk7XG4gIH1cbiAgZiA9IG1lc3NhZ2UuZ2V0U291cmNlKCk7XG4gIGlmIChmICE9IG51bGwpIHtcbiAgICB3cml0ZXIud3JpdGVNZXNzYWdlKFxuICAgICAgMixcbiAgICAgIGYsXG4gICAgICBFdmVudHNfUmVsYXRpdml0eV9pbnRlcmFjdGlvbl92ZXJzaW9uZWRfZXZlbnRfc291cmNlX3BiLlZlcnNpb25lZEV2ZW50U291cmNlLnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyXG4gICAgKTtcbiAgfVxuICBmID0gbWVzc2FnZS5nZXRDb3JyZWxhdGlvbmlkKCk7XG4gIGlmIChmICE9IG51bGwpIHtcbiAgICB3cml0ZXIud3JpdGVNZXNzYWdlKFxuICAgICAgMyxcbiAgICAgIGYsXG4gICAgICBzeXN0ZW1fZ3VpZF9wYi5ndWlkLnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyXG4gICAgKTtcbiAgfVxuICBmID0gbWVzc2FnZS5nZXRBcnRpZmFjdCgpO1xuICBpZiAoZiAhPSBudWxsKSB7XG4gICAgd3JpdGVyLndyaXRlTWVzc2FnZShcbiAgICAgIDQsXG4gICAgICBmLFxuICAgICAgRXZlbnRzX1JlbGF0aXZpdHlfaW50ZXJhY3Rpb25fYXJ0aWZhY3RfcGIuQXJ0aWZhY3Quc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXJcbiAgICApO1xuICB9XG4gIGYgPSBtZXNzYWdlLmdldE9jY3VycmVkKCk7XG4gIGlmIChmICE9PSAwKSB7XG4gICAgd3JpdGVyLndyaXRlSW50NjQoXG4gICAgICA1LFxuICAgICAgZlxuICAgICk7XG4gIH1cbiAgZiA9IG1lc3NhZ2UuZ2V0T3JpZ2luYWxjb250ZXh0KCk7XG4gIGlmIChmICE9IG51bGwpIHtcbiAgICB3cml0ZXIud3JpdGVNZXNzYWdlKFxuICAgICAgNixcbiAgICAgIGYsXG4gICAgICBFdmVudHNfUmVsYXRpdml0eV9pbnRlcmFjdGlvbl9vcmlnaW5hbF9jb250ZXh0X3BiLk9yaWdpbmFsQ29udGV4dC5zZXJpYWxpemVCaW5hcnlUb1dyaXRlclxuICAgICk7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBvcHRpb25hbCBkb2xpdHRsZS5ndWlkIGV2ZW50SWQgPSAxO1xuICogQHJldHVybiB7P3Byb3RvLmRvbGl0dGxlLmd1aWR9XG4gKi9cbnByb3RvLmRvbGl0dGxlLmV2ZW50cy5yZWxhdGl2aXR5LkV2ZW50TWV0YWRhdGEucHJvdG90eXBlLmdldEV2ZW50aWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIC8qKiBAdHlwZXs/cHJvdG8uZG9saXR0bGUuZ3VpZH0gKi8gKFxuICAgIGpzcGIuTWVzc2FnZS5nZXRXcmFwcGVyRmllbGQodGhpcywgc3lzdGVtX2d1aWRfcGIuZ3VpZCwgMSkpO1xufTtcblxuXG4vKiogQHBhcmFtIHs/cHJvdG8uZG9saXR0bGUuZ3VpZHx1bmRlZmluZWR9IHZhbHVlICovXG5wcm90by5kb2xpdHRsZS5ldmVudHMucmVsYXRpdml0eS5FdmVudE1ldGFkYXRhLnByb3RvdHlwZS5zZXRFdmVudGlkID0gZnVuY3Rpb24odmFsdWUpIHtcbiAganNwYi5NZXNzYWdlLnNldFdyYXBwZXJGaWVsZCh0aGlzLCAxLCB2YWx1ZSk7XG59O1xuXG5cbi8qKlxuICogQ2xlYXJzIHRoZSBtZXNzYWdlIGZpZWxkIG1ha2luZyBpdCB1bmRlZmluZWQuXG4gKi9cbnByb3RvLmRvbGl0dGxlLmV2ZW50cy5yZWxhdGl2aXR5LkV2ZW50TWV0YWRhdGEucHJvdG90eXBlLmNsZWFyRXZlbnRpZCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnNldEV2ZW50aWQodW5kZWZpbmVkKTtcbn07XG5cblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgdGhpcyBmaWVsZCBpcyBzZXQuXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5wcm90by5kb2xpdHRsZS5ldmVudHMucmVsYXRpdml0eS5FdmVudE1ldGFkYXRhLnByb3RvdHlwZS5oYXNFdmVudGlkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGQodGhpcywgMSkgIT0gbnVsbDtcbn07XG5cblxuLyoqXG4gKiBvcHRpb25hbCBWZXJzaW9uZWRFdmVudFNvdXJjZSBzb3VyY2UgPSAyO1xuICogQHJldHVybiB7P3Byb3RvLmRvbGl0dGxlLmV2ZW50cy5yZWxhdGl2aXR5LlZlcnNpb25lZEV2ZW50U291cmNlfVxuICovXG5wcm90by5kb2xpdHRsZS5ldmVudHMucmVsYXRpdml0eS5FdmVudE1ldGFkYXRhLnByb3RvdHlwZS5nZXRTb3VyY2UgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIC8qKiBAdHlwZXs/cHJvdG8uZG9saXR0bGUuZXZlbnRzLnJlbGF0aXZpdHkuVmVyc2lvbmVkRXZlbnRTb3VyY2V9ICovIChcbiAgICBqc3BiLk1lc3NhZ2UuZ2V0V3JhcHBlckZpZWxkKHRoaXMsIEV2ZW50c19SZWxhdGl2aXR5X2ludGVyYWN0aW9uX3ZlcnNpb25lZF9ldmVudF9zb3VyY2VfcGIuVmVyc2lvbmVkRXZlbnRTb3VyY2UsIDIpKTtcbn07XG5cblxuLyoqIEBwYXJhbSB7P3Byb3RvLmRvbGl0dGxlLmV2ZW50cy5yZWxhdGl2aXR5LlZlcnNpb25lZEV2ZW50U291cmNlfHVuZGVmaW5lZH0gdmFsdWUgKi9cbnByb3RvLmRvbGl0dGxlLmV2ZW50cy5yZWxhdGl2aXR5LkV2ZW50TWV0YWRhdGEucHJvdG90eXBlLnNldFNvdXJjZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIGpzcGIuTWVzc2FnZS5zZXRXcmFwcGVyRmllbGQodGhpcywgMiwgdmFsdWUpO1xufTtcblxuXG4vKipcbiAqIENsZWFycyB0aGUgbWVzc2FnZSBmaWVsZCBtYWtpbmcgaXQgdW5kZWZpbmVkLlxuICovXG5wcm90by5kb2xpdHRsZS5ldmVudHMucmVsYXRpdml0eS5FdmVudE1ldGFkYXRhLnByb3RvdHlwZS5jbGVhclNvdXJjZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnNldFNvdXJjZSh1bmRlZmluZWQpO1xufTtcblxuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciB0aGlzIGZpZWxkIGlzIHNldC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbnByb3RvLmRvbGl0dGxlLmV2ZW50cy5yZWxhdGl2aXR5LkV2ZW50TWV0YWRhdGEucHJvdG90eXBlLmhhc1NvdXJjZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkKHRoaXMsIDIpICE9IG51bGw7XG59O1xuXG5cbi8qKlxuICogb3B0aW9uYWwgZG9saXR0bGUuZ3VpZCBjb3JyZWxhdGlvbklkID0gMztcbiAqIEByZXR1cm4gez9wcm90by5kb2xpdHRsZS5ndWlkfVxuICovXG5wcm90by5kb2xpdHRsZS5ldmVudHMucmVsYXRpdml0eS5FdmVudE1ldGFkYXRhLnByb3RvdHlwZS5nZXRDb3JyZWxhdGlvbmlkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAvKiogQHR5cGV7P3Byb3RvLmRvbGl0dGxlLmd1aWR9ICovIChcbiAgICBqc3BiLk1lc3NhZ2UuZ2V0V3JhcHBlckZpZWxkKHRoaXMsIHN5c3RlbV9ndWlkX3BiLmd1aWQsIDMpKTtcbn07XG5cblxuLyoqIEBwYXJhbSB7P3Byb3RvLmRvbGl0dGxlLmd1aWR8dW5kZWZpbmVkfSB2YWx1ZSAqL1xucHJvdG8uZG9saXR0bGUuZXZlbnRzLnJlbGF0aXZpdHkuRXZlbnRNZXRhZGF0YS5wcm90b3R5cGUuc2V0Q29ycmVsYXRpb25pZCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIGpzcGIuTWVzc2FnZS5zZXRXcmFwcGVyRmllbGQodGhpcywgMywgdmFsdWUpO1xufTtcblxuXG4vKipcbiAqIENsZWFycyB0aGUgbWVzc2FnZSBmaWVsZCBtYWtpbmcgaXQgdW5kZWZpbmVkLlxuICovXG5wcm90by5kb2xpdHRsZS5ldmVudHMucmVsYXRpdml0eS5FdmVudE1ldGFkYXRhLnByb3RvdHlwZS5jbGVhckNvcnJlbGF0aW9uaWQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5zZXRDb3JyZWxhdGlvbmlkKHVuZGVmaW5lZCk7XG59O1xuXG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIHRoaXMgZmllbGQgaXMgc2V0LlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xucHJvdG8uZG9saXR0bGUuZXZlbnRzLnJlbGF0aXZpdHkuRXZlbnRNZXRhZGF0YS5wcm90b3R5cGUuaGFzQ29ycmVsYXRpb25pZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkKHRoaXMsIDMpICE9IG51bGw7XG59O1xuXG5cbi8qKlxuICogb3B0aW9uYWwgQXJ0aWZhY3QgYXJ0aWZhY3QgPSA0O1xuICogQHJldHVybiB7P3Byb3RvLmRvbGl0dGxlLmV2ZW50cy5yZWxhdGl2aXR5LkFydGlmYWN0fVxuICovXG5wcm90by5kb2xpdHRsZS5ldmVudHMucmVsYXRpdml0eS5FdmVudE1ldGFkYXRhLnByb3RvdHlwZS5nZXRBcnRpZmFjdCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gLyoqIEB0eXBlez9wcm90by5kb2xpdHRsZS5ldmVudHMucmVsYXRpdml0eS5BcnRpZmFjdH0gKi8gKFxuICAgIGpzcGIuTWVzc2FnZS5nZXRXcmFwcGVyRmllbGQodGhpcywgRXZlbnRzX1JlbGF0aXZpdHlfaW50ZXJhY3Rpb25fYXJ0aWZhY3RfcGIuQXJ0aWZhY3QsIDQpKTtcbn07XG5cblxuLyoqIEBwYXJhbSB7P3Byb3RvLmRvbGl0dGxlLmV2ZW50cy5yZWxhdGl2aXR5LkFydGlmYWN0fHVuZGVmaW5lZH0gdmFsdWUgKi9cbnByb3RvLmRvbGl0dGxlLmV2ZW50cy5yZWxhdGl2aXR5LkV2ZW50TWV0YWRhdGEucHJvdG90eXBlLnNldEFydGlmYWN0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAganNwYi5NZXNzYWdlLnNldFdyYXBwZXJGaWVsZCh0aGlzLCA0LCB2YWx1ZSk7XG59O1xuXG5cbi8qKlxuICogQ2xlYXJzIHRoZSBtZXNzYWdlIGZpZWxkIG1ha2luZyBpdCB1bmRlZmluZWQuXG4gKi9cbnByb3RvLmRvbGl0dGxlLmV2ZW50cy5yZWxhdGl2aXR5LkV2ZW50TWV0YWRhdGEucHJvdG90eXBlLmNsZWFyQXJ0aWZhY3QgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5zZXRBcnRpZmFjdCh1bmRlZmluZWQpO1xufTtcblxuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciB0aGlzIGZpZWxkIGlzIHNldC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbnByb3RvLmRvbGl0dGxlLmV2ZW50cy5yZWxhdGl2aXR5LkV2ZW50TWV0YWRhdGEucHJvdG90eXBlLmhhc0FydGlmYWN0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGQodGhpcywgNCkgIT0gbnVsbDtcbn07XG5cblxuLyoqXG4gKiBvcHRpb25hbCBpbnQ2NCBvY2N1cnJlZCA9IDU7XG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbnByb3RvLmRvbGl0dGxlLmV2ZW50cy5yZWxhdGl2aXR5LkV2ZW50TWV0YWRhdGEucHJvdG90eXBlLmdldE9jY3VycmVkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDUsIDApKTtcbn07XG5cblxuLyoqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAqL1xucHJvdG8uZG9saXR0bGUuZXZlbnRzLnJlbGF0aXZpdHkuRXZlbnRNZXRhZGF0YS5wcm90b3R5cGUuc2V0T2NjdXJyZWQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgNSwgdmFsdWUpO1xufTtcblxuXG4vKipcbiAqIG9wdGlvbmFsIE9yaWdpbmFsQ29udGV4dCBvcmlnaW5hbENvbnRleHQgPSA2O1xuICogQHJldHVybiB7P3Byb3RvLmRvbGl0dGxlLmV2ZW50cy5yZWxhdGl2aXR5Lk9yaWdpbmFsQ29udGV4dH1cbiAqL1xucHJvdG8uZG9saXR0bGUuZXZlbnRzLnJlbGF0aXZpdHkuRXZlbnRNZXRhZGF0YS5wcm90b3R5cGUuZ2V0T3JpZ2luYWxjb250ZXh0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAvKiogQHR5cGV7P3Byb3RvLmRvbGl0dGxlLmV2ZW50cy5yZWxhdGl2aXR5Lk9yaWdpbmFsQ29udGV4dH0gKi8gKFxuICAgIGpzcGIuTWVzc2FnZS5nZXRXcmFwcGVyRmllbGQodGhpcywgRXZlbnRzX1JlbGF0aXZpdHlfaW50ZXJhY3Rpb25fb3JpZ2luYWxfY29udGV4dF9wYi5PcmlnaW5hbENvbnRleHQsIDYpKTtcbn07XG5cblxuLyoqIEBwYXJhbSB7P3Byb3RvLmRvbGl0dGxlLmV2ZW50cy5yZWxhdGl2aXR5Lk9yaWdpbmFsQ29udGV4dHx1bmRlZmluZWR9IHZhbHVlICovXG5wcm90by5kb2xpdHRsZS5ldmVudHMucmVsYXRpdml0eS5FdmVudE1ldGFkYXRhLnByb3RvdHlwZS5zZXRPcmlnaW5hbGNvbnRleHQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICBqc3BiLk1lc3NhZ2Uuc2V0V3JhcHBlckZpZWxkKHRoaXMsIDYsIHZhbHVlKTtcbn07XG5cblxuLyoqXG4gKiBDbGVhcnMgdGhlIG1lc3NhZ2UgZmllbGQgbWFraW5nIGl0IHVuZGVmaW5lZC5cbiAqL1xucHJvdG8uZG9saXR0bGUuZXZlbnRzLnJlbGF0aXZpdHkuRXZlbnRNZXRhZGF0YS5wcm90b3R5cGUuY2xlYXJPcmlnaW5hbGNvbnRleHQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5zZXRPcmlnaW5hbGNvbnRleHQodW5kZWZpbmVkKTtcbn07XG5cblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgdGhpcyBmaWVsZCBpcyBzZXQuXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5wcm90by5kb2xpdHRsZS5ldmVudHMucmVsYXRpdml0eS5FdmVudE1ldGFkYXRhLnByb3RvdHlwZS5oYXNPcmlnaW5hbGNvbnRleHQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZCh0aGlzLCA2KSAhPSBudWxsO1xufTtcblxuXG5nb29nLm9iamVjdC5leHRlbmQoZXhwb3J0cywgcHJvdG8uZG9saXR0bGUuZXZlbnRzLnJlbGF0aXZpdHkpO1xuIl19